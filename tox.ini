[tox]
envlist = py37, flake8
skipsdist = True

[coverage:report]
include = montage/**
omit = montage/*/tests/**
       montage/*/tests.py
       montage/*/migrations/*.py

[testenv:py37]
commands = py.test --cov .
deps =
  coverage
  pytest
  pytest-cov
  pytest-django

[testenv:flake8]
basepython = python3.7
deps =
    flake8
    pep8-naming
commands = flake8 montage/

[flake8]
max-line-length = 100
max-complexity = 10
radon-max-cc = 10
import-order-style = google
ignore = D100,D101,D102,D103,D200,D202,D203,D204,D205,D208,D209,D210,D300,D301,D302,D400,D402
exclude =
    # auto generated files
    migrations
    urls.py
    manage.py
    wsgi.py
    tests/*
